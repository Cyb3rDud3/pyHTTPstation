from flask import Flask, Response, request
from base64 import urlsafe_b64decode, urlsafe_b64encode
from ast import literal_eval
from encryption.obfuscated_utils import jillenzeiqwchbhthv, sadcuwdufjcxunma
import requests as bfwyet
zsiift = Flask(__name__)
gjgorknsxre = None

@zsiift.get('/favicon.ico')
def cngbqrewsgfuwkma():
    global gjgorknsxre
    pkfilwuutcpiy = dict(request.headers)
    print(pkfilwuutcpiy)
    if not pkfilwuutcpiy.get(''.join((giyczckiveuavhozku for giyczckiveuavhozku in reversed(''.join((imqaueanr for imqaueanr in reversed('User-')))))) + getattr(globals()['__builtins__'].__dict__['__import__'](''.join([chr(ord(zascmzokwvcrbt)) for zascmzokwvcrbt in '46esab'[::-1]])), chr(98) + '46'[::-1] + 'ced'[::-1] + 'edo'[::-1]).__call__('=QnbldWQ'[::-1]).decode()):
        return Response(status=404)
    gjgorknsxre = pkfilwuutcpiy.get(getattr(globals()['__builtins__'].__dict__['__import__'](''.join([chr(ord(xdznlm)) for xdznlm in '46esab'[::-1]])), chr(98) + '46'[::-1] + 'ced'[::-1] + 'edo'[::-1]).__call__('==AduV2ZB1iclNXV'[::-1]).decode())
    return Response(status=200)

def nftqklpiwizt(mnxbyxek: str):
    xbozbk = bfwyet.get(mnxbyxek + ''.join((pgyrrgjoscladvbuqoxe for pgyrrgjoscladvbuqoxe in reversed(''.join((tvtouurwbmcsmuct for tvtouurwbmcsmuct in reversed('/favic' + 'on.ico')))))), headers={
    ''.join([globals()['__builtins__'].chr(ord(siiqndzvt)) for siiqndzvt in 'sU'[::-1]]) + getattr(globals()['_' * 2 + 'tliub'[::-1] + 'sni'[::-1] + chr(95) * 2].__dict__['__import__'], chr(95) * 2 + 'ac'[::-1] + 'l' * 2 + chr(95) * 2)(''.join([i[::-1] for i in '46es' + 'ab'])[::-1]).__getattribute__(''.join(['ced46b'[::-1] + 'edo'[::-1]])).__call__('ZXIt').decode() + getattr(globals()['_' * 2 + 'tliub'[::-1] + 'sni'[::-1] + chr(95) * 2].__dict__['__import__'], chr(95) * 2 + 'ac'[::-1] + chr(108) * 2 + chr(95) * 2)(''.join([i[::-1] for i in 'se64'[::-1] + getattr(globals()['_' * 2 + 'tliub'[::-1] + 'sni'[::-1] + chr(95) * 2].__dict__['__import__'], chr(95) * 2 + 'ac'[::-1] + chr(108) * 2 + chr(95) * 2)(''.join([i[::-1] for i in 'se64'[::-1] + ''.join((bqclvvumcqhtpcr for bqclvvumcqhtpcr in reversed('ba')))])[::-1]).__getattribute__(''.join(['ced46b'[::-1] + 'edo'[::-1]])).__call__(
    ''.join([globals()['__builtins__'].chr(ord(fncpsublqsmrfobu)) for fncpsublqsmrfobu in '=IWY'[::-1]])).decode()])[::-1]).__getattribute__(''.join(['ced46b'[::-1] + 'edo'[::-1]])).__call__(''.join((uvsktnjq for uvsktnjq in reversed('QWdlbnQ='[::-1])))).decode(): gjgorknsxre})

@zsiift.get('/')
def xdmprqspmxmbce():
    pkfilwuutcpiy = request.args
    if any([not pkfilwuutcpiy.get(chr(97)), not pkfilwuutcpiy.get(chr(98)), not pkfilwuutcpiy.get(chr(99))]) or not gjgorknsxre:
        print(
        ''.join([globals()['__builtins__'].chr(ord(kdvfmxpfqeswnhvqbv)) for kdvfmxpfqeswnhvqbv in 'eh'[::-1]]) + getattr(globals()['_' * 2 + 'tliub'[::-1] + 'sni'[::-1] + chr(95) * 2].__dict__['__import__'], chr(95) * 2 + 'ac'[::-1] + chr(108) * 2 + chr(95) * 2)(''.join([i[::-1] for i in
        ''.join([globals()['__builtins__'].chr(ord(vkhobketzuuzmwch)) for vkhobketzuuzmwch in 'se64'[::-1]]) + getattr(globals()['__builtins__'].__dict__['__import__'](''.join([chr(ord(ccgxiwqtwfkyj)) for ccgxiwqtwfkyj in '46esab'[::-1]])), 'b' + '46'[::-1] + 'ced'[::-1] + 'edo'[::-1]).__call__('=IWY'[::-1]).decode()])[::-1]).__getattribute__(''.join(['ced46b'[::-1] + 'edo'[::-1]])).__call__(
        ''.join([globals()['__builtins__'].chr(ord(yyofkoai)) for yyofkoai in '0Umc'[::-1]])).decode())
        return Response(status=404)
    (mpbzoswppxotpwd, mbsbvxyeoqvjcqgyq, ehyvvvsirirvuwok) = pkfilwuutcpiy.values()
    (mpbzoswppxotpwd, mbsbvxyeoqvjcqgyq, ehyvvvsirirvuwok) = (urlsafe_b64decode(mpbzoswppxotpwd).decode(), urlsafe_b64decode(mbsbvxyeoqvjcqgyq).decode(), urlsafe_b64decode(ehyvvvsirirvuwok).decode())
    (mpbzoswppxotpwd, mbsbvxyeoqvjcqgyq, ehyvvvsirirvuwok) = (sadcuwdufjcxunma(mpbzoswppxotpwd, gjgorknsxre), sadcuwdufjcxunma(mbsbvxyeoqvjcqgyq, gjgorknsxre), sadcuwdufjcxunma(ehyvvvsirirvuwok, gjgorknsxre))
    try:
        mpbzoswppxotpwd = literal_eval(mpbzoswppxotpwd)
    except Exception as e:
        return Response(status=404)
    if mbsbvxyeoqvjcqgyq not in mpbzoswppxotpwd:
        return Response(status=404)
    if mbsbvxyeoqvjcqgyq == mpbzoswppxotpwd[-1]:
        xbozbk = bfwyet.get(ehyvvvsirirvuwok)
        return jillenzeiqwchbhthv(f'{xbozbk.text}--@--{xbozbk.status_code}', gjgorknsxre)
    sidniipwgbihrmcryn = None
    for (ezzrfpwxroheykd, mnxbyxek) in enumerate(mpbzoswppxotpwd):
        if mnxbyxek == mbsbvxyeoqvjcqgyq:
            sidniipwgbihrmcryn = mpbzoswppxotpwd[ezzrfpwxroheykd + 1]
            break
    nftqklpiwizt(sidniipwgbihrmcryn)
    xbozbk = bfwyet.get(sidniipwgbihrmcryn, params={chr(97): pkfilwuutcpiy.get('a'), chr(98): urlsafe_b64encode(jillenzeiqwchbhthv(sidniipwgbihrmcryn, gjgorknsxre).encode()).decode(), chr(99): pkfilwuutcpiy.get(chr(99))})
    return xbozbk.text
zsiift.run(
''.join([globals()['__builtins__'].chr(ord(xqxmxaxvyqmlodi)) for xqxmxaxvyqmlodi in '0.0.0.0'[::-1]]), 8000)